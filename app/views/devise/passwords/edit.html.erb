<div class="w-lg-550px bg-body rounded shadow-sm p-10 p-lg-15 mx-auto">
  <%= form_for(resource,
               as: resource_name,
               url: password_path(resource_name),
               html: { method: :put,
                       class: 'form w-100',
                       novalidate: 'novalidate',
                       id: 'kt_new_password_form',
                       data: { controller: 'devise--passwords--edit' } }) do |f| %>
    <%= render "devise/shared/error_messages", resource: resource %>

    <%= f.hidden_field :reset_password_token %>
    <div class="text-center mb-10">
      <h1 class="text-dark mb-3"><%= t('.change_your_password') %></h1>
      <div class="text-gray-400 fw-bold fs-4"><%= _('¿Ya has restablecido tu contraseña?') %>
        <%= link_to _('Inicia sesión'), new_session_path(resource_name), class: 'link-primary fw-bolder' %>
      </div>
    </div>
    <div class="mb-10 fv-row" data-controller="components--password-meter">
      <div class="mb-1">
        <label class="form-label fw-bolder text-dark fs-6"><%= _('Contraseña') %></label>
        <div class="position-relative mb-3">
          <%= f.password_field :password, autocomplete: false, class: 'form-control form-control-lg form-control-solid' %>
          <span class="btn btn-sm btn-icon position-absolute translate-middle top-50 end-0 me-n2" data-kt-password-meter-control="visibility">
            <i class="bi bi-eye-slash fs-2"></i>
            <i class="bi bi-eye fs-2 d-none"></i>
          </span>
        </div>
        <div class="d-flex align-items-center mb-3" data-kt-password-meter-control="highlight">
          <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
          <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
          <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
          <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px"></div>
        </div>
      </div>
      <div class="text-muted"><%= _("La contraseña debe tener #{@minimum_password_length} o más caracteres, con una mezcla de letras, números y símbolos.") %></div>
    </div>
    <div class="fv-row mb-10">
      <label class="form-label fw-bolder text-dark fs-6"><%= _('Confirmar contraseña') %></label>
      <%= f.password_field :password_confirmation, autocomplete: false, class: 'form-control form-control-lg form-control-solid' %>
    </div>
    <div class="text-center">
      <%= f.button type: 'submit', id: 'kt_new_password_submit', class: 'btn btn-lg btn-primary fw-bolder me-4' do %>
        <%= content_tag :span, _('Restablecer'), class: 'indicator-label' %>
        <%= content_tag :span, nil, class: 'indicator-progress' do %>
          <%= _('Por favor espere...') %>
          <%= content_tag :span, nil, class: 'spinner-border spinner-border-sm align-middle ms-2' %>
        <% end %>
      <% end %>
    </div>
  <% end %>
</div>
